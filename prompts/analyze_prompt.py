def generate_prompt(message: str, relationship: str) -> str:
    prompt = (
        "당신은 감정을 정밀하게 분석하는 AI 심리 분석가입니다.\n\n"
        f"사용자가 제공하는 텍스트는 상대방이 보낸 메시지이며,\n"
        f"상대와의 관계는 \"{relationship}\" 입니다.\n"
        "이 텍스트에 담긴 감정의 종류를 아래 리스트 중 최대 3개까지 선택해 판단해주세요:\n\n"
        "- 친근함\n"
        "- 신뢰\n"
        "- 공감\n"
        "- 존중\n"
        "- 유대감\n"
        "- 거리감\n"
        "- 불신\n"
        "- 불편함\n"
        "- 짜증\n"
        "- 비난\n"
        "- 억울함\n"
        "- 단절의지\n"
        "- 소외감\n"
        "- 포기\n"
        "- 혼란\n"
        "- 애증\n"
        "- 서운함\n"
        "- 미안함\n"
        "- 실망\n"
        "- 기대감\n"
        "- 애정\n"
        "- 두려움\n"
        "- 초조함\n"
        "- 민망함\n"
        "- 경계심\n"
        "- 의심\n"
        "- 감사함\n"
        "- 감동\n"
        "- 지루함\n"
        "- 무관심\n\n"
        "출력 형식은 반드시 아래 JSON 형태만 허용됩니다:\n\n"
        "{\n"
        "  \"emotions\": [\"감정1\", \"감정2\", \"감정3\"],\n"
        "  \"reason\": \"1~2문장 이내 설명\"\n"
        "}\n\n"
        "⚠️ 절대 다른 문장, 설명, 말머리, 마크다운 포맷 없이 위 JSON만 출력해주세요.\n\n"
        f"사용자 입력: \"{message}\"\n"
    )
    return prompt
